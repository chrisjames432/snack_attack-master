<!DOCTYPE html>

<html lang="en">

<head>
    <title>Snack Attack - Find What the Character Wants!</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=yes, minimum-scale=1.0, maximum-scale=1.0">
    <meta http-equiv='cache-control' content='no-cache'>
    <meta http-equiv='expires' content='0'>
    <meta http-equiv='pragma' content='no-cache'>
    <link rel="stylesheet" href="maincss.css">
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Michroma" />
    <script type="importmap">
        {
          "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.164.1/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.164.1/examples/"
          }
        }
      </script>

</head>
<body>
    <div id='loading_div'>
        <div id='loaderbox'>
        <img src="./js/logo1.png" alt="snack attack"  style="width:400px;height:400px;"><br><br>
            <center>
            <div class="loader"></div>
            </center>
        </div>
    </div>

    <!-- Game UI -->
    <div id="game-ui" style="position: fixed; top: 20px; left: 20px; color: white; font-size: 24px; z-index: 100; display: none; text-shadow: 2px 2px 4px rgba(0,0,0,0.8);">
        <div>Score: <span id="score-display">0</span></div>
        <div>Time: <span id="time-display">0</span>s</div>
        <div>Level: <span id="level-display">1</span></div>
        <div id="combo-display" style="display: none; color: #00ff00; font-weight: bold;">
            Combo: x<span id="combo-count">0</span>
        </div>
        <div id="desire-timer" style="width: 250px; height: 12px; background: rgba(0,0,0,0.5); margin: 10px 0; border-radius: 6px; overflow: hidden;">
            <div id="timer-bar" style="width: 100%; height: 100%; background: #00ff00; transition: width 0.1s; border-radius: 6px;"></div>
        </div>
        <div style="font-size: 16px; opacity: 0.8;">Find the snack in the bubble!</div>
    </div>

    <!-- Start Menu -->
    <div id="start-menu" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; color: white; z-index: 100; display: none; text-shadow: 2px 2px 4px rgba(0,0,0,0.8);">
        <h1 style="font-size: 48px; margin-bottom: 20px; color: #00ff00;">üçé Snack Attack üçé</h1>
        <p style="font-size: 24px; margin-bottom: 30px;">Find the snack the character wants!</p>
        <p style="font-size: 18px; margin-bottom: 20px; opacity: 0.8;">
            ‚Ä¢ Look at the bubble to see what the character wants<br>
            ‚Ä¢ Click on the matching snack in the 3D world<br>
            ‚Ä¢ Get points for correct choices!<br>
            ‚Ä¢ Build combos for bonus points!
        </p>
        <button id="start-button" onclick="startGame()" style="padding: 20px 40px; font-size: 24px; background: #00ff00; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; color: #000;">üéÆ Start Game</button>
    </div>

    <div id="mainscene" class="scene"></div>

    <div id="mom" class="scene"></div>
 


    <script type="module">
        import { GameAudio } from './js/audio.js';
        import { game } from './js/game.js';

        // Initialize audio first
        window.gameAudio = new GameAudio();

        // Initialize game when page loads
        document.addEventListener('DOMContentLoaded', function() {
            game.init();
            game.animate();
            window.game = game;
        });
    </script>


</body>
</html>
